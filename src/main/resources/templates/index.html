<!DOCTYPE html>
<html lang="ko">
<head>
    <nav>
        <div class="logo">Creative Hub</div>
        <ul class="nav-links">
          <li><a href="/">홈</a></li>
          <li><a href="/about">소개</a></li>
          <li><a href="/lca">LCA 분석</a></li>
          <li><a href="/emission">온실가스 산정</a></li>
          <li><a href="/report">공시 리포트</a></li>
          <li><a href="/auth/login.html">로그인</a></li>
          <li><a href="/auth/register.html">회원가입</a></li>
        </ul>
      </nav>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>탄소 관리 시스템 - 온실가스 배출량 산정 & LCA & 공시 기준</title>
    <link rel="stylesheet" th:href="@{/styles/index.css}">

</head>
<div class="container">
    <section class="login-section">
        <div class="login-box">
            <h2>로그인</h2>
            <form id="loginForm">
                <input type="email" id="email" placeholder="이메일" required>
                <input type="password" id="password" placeholder="비밀번호" required>
                <button type="submit">로그인</button>
            </form>
            <p>아직 회원이 아니신가요? <a href="/signup">회원가입</a></p>
        </div>
    </section>
</div>
<script>
    document.getElementById("loginForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      const res = await fetch("/api/login", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({ email, password }),
      });

      const data = await res.json();
      if (res.ok) {
        alert("로그인 성공!");
        localStorage.setItem("token", data.token);
        window.location.href = "/";
      } else {
        alert(data.message || "로그인 실패");
      }
    });
    </script>
</body>
</html>

<body>
    <div class="header">
        <h1>🌍 탄소 관리 시스템</h1>
        <p>온실가스 배출량 산정 • LCA 산정 • 공시 기준 통합 관리</p>
    </div>

    <div class="calculator-buttons">
        <a href="/contents/calculator/plus" class="calc-btn">덧셈</a>
        <a href="/contents/calculator/minus" class="calc-btn">뺄셈</a>
        <a href="/contents/calculator/gob" class="calc-btn">곱셈</a>
        <a href="/contents/calculator/nanum" class="calc-btn">나눗셈</a>
    </div>

    <div class="calculator-buttons">
        <a href="/calculator/calculator" class="calc-btn">계산기</a>
    </div>

    <!-- 히어로 섹션 -->
    <section class="hero" id="index">
        <div class="hero-content">
        <li><a href="/contents/calculator/plus">덧셈 </a></li>
        <li><a href="/contents/calculator/minus">뺄셈</a></li>
        <li><a href="/contents/calculator/gob">곱셈</a></li>
        <li><a href="/contents/calculator/nanum">나눗셈</a></li>
        </div>
    </section>



    <div class="container">
        <div class="tab-container">
            <!-- 탭 네비게이션 -->
            <div class="tab-nav">
                <button class="tab-button active" onclick="openTab(event, 'emission')">
                    <span class="icon">📊</span>온실가스 배출량 산정
                </button>
                <button class="tab-button" onclick="openTab(event, 'lca')">
                    <span class="icon">🔄</span>LCA 산정
                </button>
                <button class="tab-button" onclick="openTab(event, 'disclosure')">
                    <span class="icon">📋</span>공시 기준
                </button>
            </div>

            <!-- 온실가스 배출량 산정 탭 -->
            <div id="emission" class="tab-content active">
                <h2 style="text-align: center; margin-bottom: 30px; color: #2c3e50;">온실가스 배출량 산정</h2>
                
                <div class="emission-grid">
                    <!-- 운송 분야 -->
                    <div class="emission-card">
                        <h3><span class="icon">🚗</span> 운송 분야</h3>
                        <div class="input-group">
                            <label for="car-distance">자동차 주행거리</label>
                            <input type="number" id="car-distance" placeholder="0" min="0">
                            <span class="unit-label">km</span>
                        </div>
                        <div class="input-group">
                            <label for="car-fuel">연료 소비량</label>
                            <input type="number" id="car-fuel" placeholder="0" min="0" step="0.1">
                            <span class="unit-label">L</span>
                        </div>
                        <div class="input-group">
                            <label for="car-type">차량 유형</label>
                            <select id="car-type">
                                <option value="gasoline">휘발유</option>
                                <option value="diesel">경유</option>
                                <option value="lpg">LPG</option>
                                <option value="hybrid">하이브리드</option>
                                <option value="electric">전기차</option>
                            </select>
                        </div>
                        <button class="calculate-btn" onclick="calculateTransport()">운송 배출량 계산</button>
                    </div>

                    <!-- 에너지 분야 -->
                    <div class="emission-card">
                        <h3><span class="icon">⚡</span> 에너지 분야</h3>
                        <div class="input-group">
                            <label for="electricity">전력 사용량</label>
                            <input type="number" id="electricity" placeholder="0" min="0">
                            <span class="unit-label">kWh</span>
                        </div>
                        <div class="input-group">
                            <label for="gas">가스 사용량</label>
                            <input type="number" id="gas" placeholder="0" min="0" step="0.1">
                            <span class="unit-label">㎥</span>
                        </div>
                        <div class="input-group">
                            <label for="heating-oil">난방유 사용량</label>
                            <input type="number" id="heating-oil" placeholder="0" min="0" step="0.1">
                            <span class="unit-label">L</span>
                        </div>
                        <button class="calculate-btn" onclick="calculateEnergy()">에너지 배출량 계산</button>
                    </div>

                    <!-- 식품 분야 -->
                    <div class="emission-card">
                        <h3><span class="icon">🍽️</span> 식품 분야</h3>
                        <div class="input-group">
                            <label for="beef">쇠고기 소비량</label>
                            <input type="number" id="beef" placeholder="0" min="0" step="0.1">
                            <span class="unit-label">kg/월</span>
                        </div>
                        <div class="input-group">
                            <label for="pork">돼지고기 소비량</label>
                            <input type="number" id="pork" placeholder="0" min="0" step="0.1">
                            <span class="unit-label">kg/월</span>
                        </div>
                        <div class="input-group">
                            <label for="chicken">닭고기 소비량</label>
                            <input type="number" id="chicken" placeholder="0" min="0" step="0.1">
                            <span class="unit-label">kg/월</span>
                        </div>
                        <button class="calculate-btn" onclick="calculateFood()">식품 배출량 계산</button>
                    </div>

                    <!-- 폐기물 분야 -->
                    <div class="emission-card">
                        <h3><span class="icon">🗑️</span> 폐기물 분야</h3>
                        <div class="input-group">
                            <label for="waste-paper">종이 폐기물</label>
                            <input type="number" id="waste-paper" placeholder="0" min="0" step="0.1">
                            <span class="unit-label">kg/월</span>
                        </div>
                        <div class="input-group">
                            <label for="waste-plastic">플라스틱 폐기물</label>
                            <input type="number" id="waste-plastic" placeholder="0" min="0" step="0.1">
                            <span class="unit-label">kg/월</span>
                        </div>
                        <div class="input-group">
                            <label for="waste-food">음식물 폐기물</label>
                            <input type="number" id="waste-food" placeholder="0" min="0" step="0.1">
                            <span class="unit-label">kg/월</span>
                        </div>
                        <button class="calculate-btn" onclick="calculateWaste()">폐기물 배출량 계산</button>
                    </div>
                </div>

                <!-- 결과 섹션 -->
                <div class="result-section" id="emission-result-section" style="display: none;">
                    <h3>📊 배출량 산정 결과</h3>
                    <div class="result-grid">
                        <div class="result-item">
                            <h4>운송 분야</h4>
                            <div class="result-value" id="transport-result">0 kg CO₂</div>
                        </div>
                        <div class="result-item">
                            <h4>에너지 분야</h4>
                            <div class="result-value" id="energy-result">0 kg CO₂</div>
                        </div>
                        <div class="result-item">
                            <h4>식품 분야</h4>
                            <div class="result-value" id="food-result">0 kg CO₂</div>
                        </div>
                        <div class="result-item">
                            <h4>폐기물 분야</h4>
                            <div class="result-value" id="waste-result">0 kg CO₂</div>
                        </div>
                    </div>
                    <div class="total-result">
                        <h3>총 온실가스 배출량</h3>
                        <div class="total-value" id="total-emission-result">0 kg CO₂</div>
                        <p>월간 기준</p>
                    </div>
                </div>
            </div>

            <!-- LCA 산정 탭 -->
            <div id="lca" class="tab-content">
                <h2 style="text-align: center; margin-bottom: 30px; color: #2c3e50;">LCA (Life Cycle Assessment) 산정</h2>
                
                <div class="lca-container">
                    <!-- 원료 추출 및 제조 -->
                    <div class="lca-phase">
                        <h3>🔧 원료 추출 및 제조</h3>
                        <div class="phase-inputs">
                            <div class="input-group">
                                <label for="raw-material">원료 사용량</label>
                                <input type="number" id="raw-material" placeholder="0" min="0" step="0.1">
                                <span class="unit-label">kg</span>
                            </div>
                            <div class="input-group">
                                <label for="material-type">원료 유형</label>
                                <select id="material-type">
                                    <option value="steel">강철</option>
                                    <option value="aluminum">알루미늄</option>
                                    <option value="plastic">플라스틱</option>
                                    <option value="glass">유리</option>
                                    <option value="concrete">콘크리트</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label for="manufacturing-energy">제조 에너지</label>
                                <input type="number" id="manufacturing-energy" placeholder="0" min="0" step="0.1">
                                <span class="unit-label">kWh</span>
                            </div>
                            <button class="calculate-btn" onclick="calculateLCA('extraction')">원료 추출 배출량 계산</button>
                        </div>
                    </div>

                    <!-- 운송 및 배송 -->
                    <div class="lca-phase">
                        <h3>🚚 운송 및 배송</h3>
                        <div class="phase-inputs">
                            <div class="input-group">
                                <label for="transport-distance">운송 거리</label>
                                <input type="number" id="transport-distance" placeholder="0" min="0">
                                <span class="unit-label">km</span>
                            </div>
                            <div class="input-group">
                                <label for="transport-mode">운송 수단</label>
                                <select id="transport-mode">
                                    <option value="truck">화물트럭</option>
                                    <option value="ship">선박</option>
                                    <option value="train">기차</option>
                                    <option value="airplane">항공</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label for="cargo-weight">화물 중량</label>
                                <input type="number" id="cargo-weight" placeholder="0" min="0" step="0.1">
                                <span class="unit-label">ton</span>
                            </div>
                            <button class="calculate-btn" onclick="calculateLCA('transport')">운송 배출량 계산</button>
                        </div>
                    </div>

                    <!-- 사용 단계 -->
                    <div class="lca-phase">
                        <h3>🔌 사용 단계</h3>
                        <div class="phase-inputs">
                            <div class="input-group">
                                <label for="usage-energy">사용 에너지</label>
                                <input type="number" id="usage-energy" placeholder="0" min="0" step="0.1">
                                <span class="unit-label">kWh/년</span>
                            </div>
                            <div class="input-group">
                                <label for="usage-years">사용 기간</label>
                                <input type="number" id="usage-years" placeholder="0" min="0" step="0.1">
                                <span class="unit-label">년</span>
                            </div>
        <div class="input-group">
                                <label for="maintenance">유지보수</label>
                                <input type="number" id="maintenance" placeholder="0" min="0" step="0.1">
                                <span class="unit-label">회/년</span>
                            </div>
                            <button class="calculate-btn" onclick="calculateLCA('usage')">사용 단계 배출량 계산</button>
                        </div>
        </div>
        
                    <!-- 폐기 및 재활용 -->
                    <div class="lca-phase">
                        <h3>♻️ 폐기 및 재활용</h3>
                        <div class="phase-inputs">
                            <div class="input-group">
                                <label for="disposal-method">폐기 방법</label>
                                <select id="disposal-method">
                                    <option value="landfill">매립</option>
                                    <option value="incineration">소각</option>
                                    <option value="recycling">재활용</option>
                                    <option value="composting">퇴비화</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label for="disposal-weight">폐기 중량</label>
                                <input type="number" id="disposal-weight" placeholder="0" min="0" step="0.1">
                                <span class="unit-label">kg</span>
                            </div>
        <div class="input-group">
                                <label for="recycling-rate">재활용률</label>
                                <input type="number" id="recycling-rate" placeholder="0" min="0" max="100" step="1">
                                <span class="unit-label">%</span>
                            </div>
                            <button class="calculate-btn" onclick="calculateLCA('disposal')">폐기 단계 배출량 계산</button>
                        </div>
                    </div>
                </div>

                <!-- LCA 결과 -->
                <div class="lca-results" id="lca-results" style="display: none;">
                    <h3>📈 LCA 환경영향 평가 결과</h3>
                    <div class="impact-category">
                        <h4>지구온난화 잠재력 (GWP)</h4>
                        <div class="impact-value" id="gwp-result">0 kg CO₂-eq</div>
                    </div>
                    <div class="impact-category">
                        <h4>산성화 잠재력 (AP)</h4>
                        <div class="impact-value" id="ap-result">0 kg SO₂-eq</div>
                    </div>
                    <div class="impact-category">
                        <h4>부영양화 잠재력 (EP)</h4>
                        <div class="impact-value" id="ep-result">0 kg PO₄³⁻-eq</div>
                    </div>
                    <div class="impact-category">
                        <h4>오존층 파괴 잠재력 (ODP)</h4>
                        <div class="impact-value" id="odp-result">0 kg CFC-11-eq</div>
                    </div>
                    <div class="impact-category">
                        <h4>광화학적 산화물 생성 잠재력 (POCP)</h4>
                        <div class="impact-value" id="pocp-result">0 kg C₂H₄-eq</div>
                    </div>
                </div>
            </div>

            <!-- 공시 기준 탭 -->
            <div id="disclosure" class="tab-content">
                <h2 style="text-align: center; margin-bottom: 30px; color: #2c3e50;">공시 기준 및 규정</h2>
                
                <div class="disclosure-container">
                    <!-- 국내 공시 기준 -->
                    <div class="disclosure-section">
                        <h3>🇰🇷 국내 공시 기준</h3>
                        <div class="standard-item">
                            <h4>온실가스 인벤토리 지침 (GIR)</h4>
                            <p>환경부에서 제공하는 온실가스 배출량 산정 및 보고 지침으로, 국내 기업의 온실가스 배출량 산정의 기본 기준이 됩니다.</p>
                        </div>
                        <div class="standard-item">
                            <h4>지속가능경영보고서 지침</h4>
                            <p>금융감독원에서 제공하는 ESG 공시 지침으로, 기업의 지속가능경영 활동과 온실가스 배출량 정보를 포함해야 합니다.</p>
                        </div>
                        <div class="standard-item">
                            <h4>기후변화대응 및 저탄소 녹색성장 기본법</h4>
                            <p>온실가스 배출량 보고 의무화 및 저탄소 제품 인증제도에 관한 법적 근거를 제공합니다.</p>
                        </div>
                    </div>

                    <!-- 국제 공시 기준 -->
                    <div class="disclosure-section">
                        <h3>🌍 국제 공시 기준</h3>
                        <div class="standard-item">
                            <h4>TCFD (Task Force on Climate-related Financial Disclosures)</h4>
                            <p>기후변화 관련 금융정보 공시를 위한 국제 표준으로, 거버넌스, 전략, 리스크 관리, 지표 및 목표를 포함합니다.</p>
                        </div>
                        <div class="standard-item">
                            <h4>GRI Standards</h4>
                            <p>글로벌 지속가능성 보고 표준으로, 환경, 사회, 거버넌스 정보를 체계적으로 공시하기 위한 국제 기준입니다.</p>
                        </div>
                        <div class="standard-item">
                            <h4>CDP (Carbon Disclosure Project)</h4>
                            <p>기업의 탄소 발자국과 기후변화 대응 전략에 대한 정보를 수집하고 공개하는 글로벌 시스템입니다.</p>
                        </div>
                    </div>

                    <!-- 산업별 특화 기준 -->
                    <div class="disclosure-section">
                        <h3>🏭 산업별 특화 기준</h3>
                        <div class="standard-item">
                            <h4>제조업: ISO 14064-1</h4>
                            <p>조직 차원의 온실가스 배출량과 흡수량의 정량화 및 보고를 위한 국제 표준입니다.</p>
                        </div>
                        <div class="standard-item">
                            <h4>에너지업: GHG Protocol</h4>
                            <p>온실가스 배출량 산정을 위한 글로벌 표준으로, Scope 1, 2, 3 배출량을 구분하여 산정합니다.</p>
                        </div>
                        <div class="standard-item">
                            <h4>금융업: PCAF (Partnership for Carbon Accounting Financials)</h4>
                            <p>금융기관의 투자 및 대출 포트폴리오에서 발생하는 온실가스 배출량 산정 표준입니다.</p>
                        </div>
                    </div>

                    <!-- 법적 의무사항 -->
                    <div class="disclosure-section">
                        <h3>⚖️ 법적 의무사항</h3>
                        <div class="standard-item">
                            <h4>온실가스 배출량 보고 의무</h4>
                            <p>연간 온실가스 배출량이 25,000톤 CO₂-eq 이상인 기업은 환경부에 연간 배출량을 보고해야 합니다.</p>
                        </div>
                        <div class="standard-item">
                            <h4>에너지 사용량 보고 의무</h4>
                            <p>연간 에너지 사용량이 2,000 TOE 이상인 기업은 에너지 사용량 및 온실가스 배출량을 보고해야 합니다.</p>
                        </div>
                        <div class="standard-item">
                            <h4>공공기관 온실가스 감축 의무</h4>
                            <p>공공기관은 정부가 설정한 온실가스 감축 목표를 달성하기 위한 계획 수립 및 이행이 의무화되어 있습니다.</p>
                        </div>
                    </div>
                </div>

                <!-- 공시 준수 체크리스트 -->
                <div class="compliance-checklist">
                    <h3>✅ 공시 준수 체크리스트</h3>
                    <div class="checklist-item">
                        <input type="checkbox" id="check1">
                        <label for="check1">온실가스 배출량 산정 방법론 적용 완료</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="check2">
                        <label for="check2">Scope 1, 2, 3 배출량 분류 및 산정</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="check3">
                        <label for="check3">배출계수 데이터베이스 구축 및 관리</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="check4">
                        <label for="check4">온실가스 감축 목표 설정 및 추진계획 수립</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="check5">
                        <label for="check5">기후변화 리스크 평가 및 대응방안 마련</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="check6">
                        <label for="check6">ESG 보고서에 온실가스 정보 포함</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="check7">
                        <label for="check7">제3자 검증 또는 인증 취득</label>
                    </div>
                    <div class="checklist-item">
                        <input type="checkbox" id="check8">
                        <label for="check8">관련 이해관계자 커뮤니케이션</label>
                    </div>
                </div>
            </div>

            <!-- 정보 섹션 -->
            <div class="info-section">
                <h4>💡 탄소 관리 가이드</h4>
                <p><strong>온실가스 배출량 산정:</strong> Scope 1(직접배출), Scope 2(간접배출), Scope 3(기타간접배출)로 분류하여 체계적으로 산정합니다.</p>
                <p><strong>LCA 산정:</strong> 제품의 전 생애주기(원료추출~폐기)를 고려한 환경영향을 정량적으로 평가합니다.</p>
                <p><strong>공시 기준:</strong> 국내외 다양한 공시 기준을 준수하여 투명하고 신뢰성 있는 정보를 제공합니다.</p>
            </div>

            <button class="reset-btn" onclick="resetAll()">모든 데이터 초기화</button>
        </div>
    </div>

    
    <script>
        // 탭 전환 기능
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].classList.remove("active");
            }
            tablinks = document.getElementsByClassName("tab-button");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("active");
            }
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }

        // 배출계수 (kg CO₂/단위)
        const emissionFactors = {
            // 운송
            gasoline: 2.31, // kg CO₂/L
            diesel: 2.68,   // kg CO₂/L
            lpg: 1.51,      // kg CO₂/L
            hybrid: 1.16,   // kg CO₂/L (휘발유 대비 50% 감소)
            electric: 0.12, // kg CO₂/km (전력 배출계수 포함)
            
            // 에너지
            electricity: 0.424, // kg CO₂/kWh
            gas: 2.22,          // kg CO₂/㎥
            heatingOil: 2.68,   // kg CO₂/L
            
            // 식품
            beef: 27.0,     // kg CO₂/kg
            pork: 12.1,     // kg CO₂/kg
            chicken: 6.9,   // kg CO₂/kg
            
            // 폐기물
            paper: 0.8,     // kg CO₂/kg
            plastic: 1.9,   // kg CO₂/kg
            food: 2.5       // kg CO₂/kg
        };

        // LCA 배출계수
        const lcaFactors = {
            // 원료별 배출계수 (kg CO₂/kg)
            steel: 1.85,
            aluminum: 8.24,
            plastic: 3.5,
            glass: 0.85,
            concrete: 0.12,
            
            // 운송 수단별 배출계수 (kg CO₂/ton-km)
            truck: 0.15,
            ship: 0.01,
            train: 0.02,
            airplane: 0.6
        };

        // 온실가스 배출량 산정 결과
        let emissionResults = {
            transport: 0,
            energy: 0,
            food: 0,
            waste: 0
        };

        // LCA 결과
        let lcaResults = {
            extraction: 0,
            transport: 0,
            usage: 0,
            disposal: 0,
            gwp: 0,
            ap: 0,
            ep: 0,
            odp: 0,
            pocp: 0
        };

        // 온실가스 배출량 산정 함수들
        function calculateTransport() {
            const distance = parseFloat(document.getElementById('car-distance').value) || 0;
            const fuel = parseFloat(document.getElementById('car-fuel').value) || 0;
            const carType = document.getElementById('car-type').value;
            
            let emission = 0;
            
            if (carType === 'electric') {
                emission = distance * emissionFactors.electric;
            } else {
                emission = fuel * emissionFactors[carType];
            }
            
            emissionResults.transport = emission;
            updateEmissionResults();
        }

        function calculateEnergy() {
            const electricity = parseFloat(document.getElementById('electricity').value) || 0;
            const gas = parseFloat(document.getElementById('gas').value) || 0;
            const heatingOil = parseFloat(document.getElementById('heating-oil').value) || 0;
            
            const emission = (electricity * emissionFactors.electricity) +
                           (gas * emissionFactors.gas) +
                           (heatingOil * emissionFactors.heatingOil);
            
            emissionResults.energy = emission;
            updateEmissionResults();
        }

        function calculateFood() {
            const beef = parseFloat(document.getElementById('beef').value) || 0;
            const pork = parseFloat(document.getElementById('pork').value) || 0;
            const chicken = parseFloat(document.getElementById('chicken').value) || 0;
            
            const emission = (beef * emissionFactors.beef) +
                           (pork * emissionFactors.pork) +
                           (chicken * emissionFactors.chicken);
            
            emissionResults.food = emission;
            updateEmissionResults();
        }

        function calculateWaste() {
            const wastePaper = parseFloat(document.getElementById('waste-paper').value) || 0;
            const wastePlastic = parseFloat(document.getElementById('waste-plastic').value) || 0;
            const wasteFood = parseFloat(document.getElementById('waste-food').value) || 0;
            
            const emission = (wastePaper * emissionFactors.paper) +
                           (wastePlastic * emissionFactors.plastic) +
                           (wasteFood * emissionFactors.food);
            
            emissionResults.waste = emission;
            updateEmissionResults();
        }

        function updateEmissionResults() {
            document.getElementById('transport-result').textContent = emissionResults.transport.toFixed(2) + ' kg CO₂';
            document.getElementById('energy-result').textContent = emissionResults.energy.toFixed(2) + ' kg CO₂';
            document.getElementById('food-result').textContent = emissionResults.food.toFixed(2) + ' kg CO₂';
            document.getElementById('waste-result').textContent = emissionResults.waste.toFixed(2) + ' kg CO₂';
            
            const total = emissionResults.transport + emissionResults.energy + emissionResults.food + emissionResults.waste;
            document.getElementById('total-emission-result').textContent = total.toFixed(2) + ' kg CO₂';
            
            document.getElementById('emission-result-section').style.display = 'block';
        }

        // LCA 산정 함수들
        function calculateLCA(phase) {
            switch(phase) {
                case 'extraction':
                    const rawMaterial = parseFloat(document.getElementById('raw-material').value) || 0;
                    const materialType = document.getElementById('material-type').value;
                    const manufacturingEnergy = parseFloat(document.getElementById('manufacturing-energy').value) || 0;
                    
                    lcaResults.extraction = (rawMaterial * lcaFactors[materialType]) + (manufacturingEnergy * 0.424);
                    break;
                    
                case 'transport':
                    const transportDistance = parseFloat(document.getElementById('transport-distance').value) || 0;
                    const transportMode = document.getElementById('transport-mode').value;
                    const cargoWeight = parseFloat(document.getElementById('cargo-weight').value) || 0;
                    
                    lcaResults.transport = transportDistance * cargoWeight * lcaFactors[transportMode];
                    break;
                    
                case 'usage':
                    const usageEnergy = parseFloat(document.getElementById('usage-energy').value) || 0;
                    const usageYears = parseFloat(document.getElementById('usage-years').value) || 0;
                    const maintenance = parseFloat(document.getElementById('maintenance').value) || 0;
                    
                    lcaResults.usage = (usageEnergy * usageYears * 0.424) + (maintenance * usageYears * 50);
                    break;
                    
                case 'disposal':
                    const disposalMethod = document.getElementById('disposal-method').value;
                    const disposalWeight = parseFloat(document.getElementById('disposal-weight').value) || 0;
                    const recyclingRate = parseFloat(document.getElementById('recycling-rate').value) || 0;
                    
                    let disposalFactor = 0;
                    switch(disposalMethod) {
                        case 'landfill': disposalFactor = 0.5; break;
                        case 'incineration': disposalFactor = 1.2; break;
                        case 'recycling': disposalFactor = -0.3; break;
                        case 'composting': disposalFactor = 0.1; break;
                    }
                    
                    lcaResults.disposal = disposalWeight * disposalFactor * (1 - recyclingRate/100);
                    break;
            }
            
            updateLCAResults();
        }

        function updateLCAResults() {
            // 전체 LCA 결과 계산
            lcaResults.gwp = lcaResults.extraction + lcaResults.transport + lcaResults.usage + lcaResults.disposal;
            lcaResults.ap = lcaResults.gwp * 0.002; // SO₂-eq
            lcaResults.ep = lcaResults.gwp * 0.0008; // PO₄³⁻-eq
            lcaResults.odp = lcaResults.gwp * 0.000001; // CFC-11-eq
            lcaResults.pocp = lcaResults.gwp * 0.001; // C₂H₄-eq
            
            // 결과 표시
            document.getElementById('gwp-result').textContent = lcaResults.gwp.toFixed(2) + ' kg CO₂-eq';
            document.getElementById('ap-result').textContent = lcaResults.ap.toFixed(4) + ' kg SO₂-eq';
            document.getElementById('ep-result').textContent = lcaResults.ep.toFixed(4) + ' kg PO₄³⁻-eq';
            document.getElementById('odp-result').textContent = lcaResults.odp.toFixed(6) + ' kg CFC-11-eq';
            document.getElementById('pocp-result').textContent = lcaResults.pocp.toFixed(4) + ' kg C₂H₄-eq';
            
            document.getElementById('lca-results').style.display = 'block';
        }

        function resetAll() {
            // 모든 입력 필드 초기화
            const inputs = document.querySelectorAll('input[type="number"], select');
            inputs.forEach(input => input.value = '');
            
            // 체크박스 초기화
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            checkboxes.forEach(checkbox => checkbox.checked = false);
            
            // 결과 초기화
            emissionResults = { transport: 0, energy: 0, food: 0, waste: 0 };
            lcaResults = { extraction: 0, transport: 0, usage: 0, disposal: 0, gwp: 0, ap: 0, ep: 0, odp: 0, pocp: 0 };
            
            document.getElementById('emission-result-section').style.display = 'none';
            document.getElementById('lca-results').style.display = 'none';
        }

        // Enter 키로 계산하기
        document.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                const activeElement = document.activeElement;
                if (activeElement.tagName === 'INPUT' || activeElement.tagName === 'SELECT') {
                    const card = activeElement.closest('.emission-card, .lca-phase');
                    const button = card.querySelector('.calculate-btn');
                    if (button) {
                        button.click();
                    }
                }
            }
        });
    </script>
</body>
</html>
